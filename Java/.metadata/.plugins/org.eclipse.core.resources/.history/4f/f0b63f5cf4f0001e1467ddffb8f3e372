
import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.ArrayList;
import controller.Azienda;
import model.Dipendente;
import model.Dirigente;
import model.Fattorino;
import model.Impiegato;
import util.Lettore;

public class Main {

	public static void main(String[] arg) {
		
		Azienda a1 = new Azienda("Luxottica");
		
		//a1.addDipendente("Stefania", "Bordino", "Fattorino");
		//a1.addDipendente("Marco", "Stefanini", "Fattorino");
		//a1.addDipendente("Matteo", "Ludovaci", "Fattorino");
		
		//a1.addDipendente(new Impiegato("Davide", "Botta"));
		//a1.addDipendente(new Impiegato("Salvatore", "Marci"));
		//a1.addDipendente(new Impiegato("Paolo", "Tanetti"));
		
		//a1.addDipendente("Marco", "Colli", "Dirigente");
		//a1.addDipendente("Marco", "Pieraccioni", "Dirigente");
		
		//a1.addDipendente("Luigi", "Paolini", "Direttore");
		
		//a1.getDipendenteById(1).setStipendio(1550);
		//a1.getDipendenteById(2).setStipendio(2450);
			
		//ArrayList<Dipendente> dipendenti = a1.getDipendenti();
		
		//for(Dipendente dipendente : dipendenti) {
			//System.out.println(dipendente);
		//}
		
		//System.out.println("Fattorini");
		
		//ArrayList<Dipendente> fattorini = a1.getFattorini();
		
		//for(Dipendente fattorino : fattorini) {
			//System.out.println(fattorino);
		//}
		
		//System.out.println("Impiegati");
		
		//ArrayList<Dipendente> impiegati = a1.getImpiegati();
		
		//for(Dipendente impiegato : impiegati) {
			//System.out.println(impiegato);
		//}
		
		//System.out.println(a1.listaDipendenti());
		
		Lettore l = new Lettore();
		
		ArrayList<String> letturaFile = l.leggiFile("files/dip.csv");
		
		for(String riga : letturaFile) {
			String [] split = riga.split(",");
			String nome = split [0];
			String cognome = split [1];
			String ruolo= split [3];
			int numero = Integer.parseInt(split[2]);
			
			if ( ruolo == "i") {
				Impiegato i = new Impiegato(nome, cognome);
				i.setOreLavoro(numero);
				i.setPagaBase(10);
				a1.addDipendente(i);
			}else 
			if ( ruolo == "f") {
				Fattorino i = new Fattorino(nome, cognome);
				i.setNumeroConsegne(numero);
				i.setPagaBase(10);
				a1.addDipendente(i);
			}else
			if ( ruolo == "d") {
				Dirigente i = new Dirigente(nome, cognome);
				i.setPagaBase(3000);
				a1.addDipendente(i);
			}
			else
			if ( ruolo == "d") {
				Dirigente i = new Dirigente(nome, cognome);
				i.setPagaBase(4000);
				a1.addDipendente(i);
			}
			
		}
		
		a1.calcolaStipendi();
		System.out.println(a1.listaDipendenti());
		
		File f = new File("files/cedolino_marzo.html");
		
		try {
			PrintWriter out = new PrintWriter(f);
			out.write(a1.listaDipendenti());
			out.close();
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		}
		
	}//end main

}//end Class
